<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   ASCII Art gen
  </title>
  <style>
   body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #1a1a1a;
            color: #fff;
        }
    
        .container {
            background-color: #2d2d2d;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }
    
        .controls {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 30px;
            margin-bottom: 30px;
            padding: 20px;
            background-color: #363636;
            border-radius: 8px;
        }
    
        .input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
    
        label {
            font-weight: 500;
            color: #fff;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
    
        input[type="file"] {
            padding: 12px;
            background-color: #444;
            border: 2px solid #555;
            border-radius: 6px;
            color: #fff;
            cursor: pointer;
        }
    
        input[type="number"] {
            width: 120px;
            padding: 8px 12px;
            background-color: #444;
            border: 2px solid #555;
            border-radius: 6px;
            color: #fff;
        }
    
        button {
            padding: 12px 24px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
    
        button:hover {
            background-color: #45a049;
            transform: translateY(-2px);
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.4);
        }
    
        #preview {
            max-width: 100%;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
    
        #result {
            font-family: 'Courier New', monospace;
            white-space: pre;
            overflow-x: auto;
            background-color: #1a1a1a;
            color: #fff;
            padding: 25px;
            border-radius: 8px;
            font-size: 8px;
            line-height: 1;
            border: 1px solid #444;
        }
    
        .row {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
        }
    
        .column {
            flex: 1;
            background-color: #363636;
            padding: 20px;
            border-radius: 8px;
        }
    
        h3 {
            margin-top: 0;
            margin-bottom: 20px;
            color: #4CAF50;
            font-size: 1.2rem;
            font-weight: 600;
        }
    
        #downloadBtn {
            background-color: #2196F3;
            margin-bottom: 15px;
            width: 100%;
        }
    
        #downloadBtn:hover {
            background-color: #1976D2;
        }
    
        
        #result::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
    
        #result::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
    
        #result::-webkit-scrollbar-thumb {
            background: #4CAF50;
            border-radius: 4px;
        }
    
        #result::-webkit-scrollbar-thumb:hover {
            background: #45a049;
        }

        .zoom-controls {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
    padding: 5px;
    background: #1a1a1a;
    border-radius: 6px;
}

.zoom-btn {
    padding: 8px 12px;
    font-size: 16px;
    background-color: #4CAF50;
    width: 40px;
    height: 40px;
}

#zoomLevel {
    color: #fff;
    font-size: 14px;
    font-weight: 500;
    min-width: 60px;
    text-align: center;
}

#result {
    transform-origin: top left;
    transition: transform 0.2s ease;
}
.mode-select {
        padding: 8px 12px;
        background-color: #444;
        border: 2px solid #555;
        border-radius: 6px;
        color: #fff;
        cursor: pointer;
        width: 150px;
    }

    .mode-select:hover {
        border-color: #4CAF50;
    }

    .mode-select option {
        background-color: #2d2d2d;
    }
  </style>
 </head>
 <body>
  <div class="container">
   <div class="controls">
    <div class="input-group">
     <label for="imageInput">
      Choose an image:
     </label>
     <input accept="image/*" id="imageInput" type="file"/>
    </div>
    <div class="input-group">
     <label for="modeSelect">
      Art Style:
     </label>
     <select class="mode-select" id="modeSelect">
      <option value="ascii">
       Classic ASCII
      </option>
      <option value="shading">
       Shading Blocks
      </option>
      <option value="vertical">
       Vertical Blocks
      </option>
      <option value="horizontal">
       Horizontal Blocks
      </option>
      <option value="quadrant">
       Quadrant Blocks
      </option>
     </select>
    </div>
    <div class="input-group">
     <label for="widthInput">
      Output Width (characters):
     </label>
     <input id="widthInput" max="400" min="10" type="number" value="100"/>
    </div>
   </div>
   <div class="row">
    <div class="column">
     <h3>
      Original Image
     </h3>
     <img alt="Preview" id="preview" src="" style="display: none;"/>
    </div>
    <div class="column">
     <h3>
      ASCII Result
     </h3>
     <button id="downloadBtn" style="display: none;">
      Download ASCII Art
     </button>
     <div class="zoom-controls">
      <button class="zoom-btn" id="zoomOutBtn">
       -
      </button>
      <span id="zoomLevel">
       100%
      </span>
      <button class="zoom-btn" id="zoomInBtn">
       +
      </button>
     </div>
     <div id="result">
     </div>
    </div>
   </div>
  </div>
  <script>
   const ASCII_CHARS = '$@B%8&WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/\\|()1{}[]?-_+~<>i!lI;:,"^`\'. ';
        const SHADING_BLOCKS = '█▓▒░ ';
const VERTICAL_BLOCKS = '█▇▆▅▄▃▂▁ ';
const HORIZONTAL_BLOCKS = '█▉▊▋▌▍▎▏ ';
const QUADRANT_BLOCKS = '█▀▄▌▐░▒▓ ▖▗▘▙▚▛▜▝▞▟';

        const modeSelect = document.getElementById('modeSelect');

        function getCharacterSet() {
    switch(modeSelect.value) {
        case 'shading':
            return SHADING_BLOCKS;
        case 'vertical':
            return VERTICAL_BLOCKS;
        case 'horizontal':
            return HORIZONTAL_BLOCKS;
        case 'quadrant':
            return QUADRANT_BLOCKS;
        default:
            return ASCII_CHARS;
    }
}
function updateResultStyle() {
    if (modeSelect.value === 'ascii') {
        result.style.fontSize = '8px';
        result.style.lineHeight = '1';
    } else {
        result.style.fontSize = '12px';
        result.style.lineHeight = '1.2';
    }
}
        function mapRange(value, inMin, inMax, outMin, outMax) {
            return (value - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;
        }

        function getPixelBrightness(r, g, b) {
            return (0.299 * r + 0.587 * g + 0.114 * b);
        }

        function convertToAscii(ctx, width, height, outputWidth) {
        const imageData = ctx.getImageData(0, 0, width, height);
        const pixels = imageData.data;
        
        const heightRatio = height / width;
        const outputHeight = Math.floor(outputWidth * heightRatio * 0.5);
        
        const cellWidth = width / outputWidth;
        const cellHeight = height / outputHeight;
        
        let result = '';
        const chars = getCharacterSet();
        
        for (let y = 0; y < outputHeight; y++) {
            for (let x = 0; x < outputWidth; x++) {
                const pixelX = Math.floor(x * cellWidth);
                const pixelY = Math.floor(y * cellHeight);
                
                const i = (pixelY * width + pixelX) * 4;
                const brightness = getPixelBrightness(
                    pixels[i],
                    pixels[i + 1],
                    pixels[i + 2]
                );
                
                const charIndex = Math.floor(
                    mapRange(brightness, 0, 255, 0, chars.length - 1)
                );
                result += chars[charIndex];
            }
            result += '\n';
        }
        
        return result;
    }

    modeSelect.addEventListener('change', () => {
    if (preview.src) {
        processImage();
        updateResultStyle();
    }
});

        const imageInput = document.getElementById('imageInput');
        const widthInput = document.getElementById('widthInput');
        const preview = document.getElementById('preview');
        const result = document.getElementById('result');
        const downloadBtn = document.getElementById('downloadBtn');

        imageInput.addEventListener('change', handleImage);
        widthInput.addEventListener('change', () => {
            if (preview.src) {
                processImage();
            }
        });

        downloadBtn.addEventListener('click', () => {
            const blob = new Blob([result.textContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ascii-art.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });

        function handleImage(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    preview.src = event.target.result;
                    preview.style.display = 'block';
                    preview.onload = processImage;
                };
                reader.readAsDataURL(file);
            }
        }

        function processImage() {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = preview.naturalWidth;
            canvas.height = preview.naturalHeight;
            
            ctx.drawImage(preview, 0, 0);
            
            const ascii = convertToAscii(
                ctx,
                canvas.width,
                canvas.height,
                parseInt(widthInput.value)
            );
            
            result.textContent = ascii;
            downloadBtn.style.display = 'block';
        }

        const zoomInBtn = document.getElementById('zoomInBtn');
const zoomOutBtn = document.getElementById('zoomOutBtn');
const zoomLevel = document.getElementById('zoomLevel');

let currentZoom = 1;
const zoomStep = 0.1;
const minZoom = 0.2;
const maxZoom = 3;

function updateZoom() {
    result.style.transform = `scale(${currentZoom})`;
    zoomLevel.textContent = `${Math.round(currentZoom * 100)}%`;
}

zoomInBtn.addEventListener('click', () => {
    if (currentZoom < maxZoom) {
        currentZoom += zoomStep;
        updateZoom();
    }
});

zoomOutBtn.addEventListener('click', () => {
    if (currentZoom > minZoom) {
        currentZoom -= zoomStep;
        updateZoom();
    }
});
  </script>
 </body>
</html>
